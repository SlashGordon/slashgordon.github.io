<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Enhancing My Daughter&#39;s Mupibox Media Server with Cover Art - my private blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="SlashGordon" /><meta name="description" content="Discover how I enhanced my daughter&#39;s Mupibox media server experience by adding cover art to her favorite audiobooks and music." /><meta name="keywords" content="Mupibox, cover art, Python script, media server, audiobooks, mp3, album cover" />






<meta name="generator" content="Hugo 0.72.0 with theme even" />


<link rel="canonical" href="/post/cover_art_mp3/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.2e81bbed97b8b282c1aeb57488cc71c8d8c8ec559f3931531bd396bf31e0d4dd.css" rel="stylesheet">
<link rel="stylesheet" href="/lib/fancybox/jquery.fancybox-3.1.20.min.css">
<link rel="stylesheet" href="/css/custom.css">
<link rel="stylesheet" href="/css/cookie-consent.css">


<meta property="og:title" content="Enhancing My Daughter&#39;s Mupibox Media Server with Cover Art" />
<meta property="og:description" content="Discover how I enhanced my daughter&#39;s Mupibox media server experience by adding cover art to her favorite audiobooks and music." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/cover_art_mp3/" />
<meta property="article:published_time" content="2024-09-24T01:53:34+08:00" />
<meta property="article:modified_time" content="2024-09-24T01:53:34+08:00" />
<meta itemprop="name" content="Enhancing My Daughter&#39;s Mupibox Media Server with Cover Art">
<meta itemprop="description" content="Discover how I enhanced my daughter&#39;s Mupibox media server experience by adding cover art to her favorite audiobooks and music.">
<meta itemprop="datePublished" content="2024-09-24T01:53:34&#43;08:00" />
<meta itemprop="dateModified" content="2024-09-24T01:53:34&#43;08:00" />
<meta itemprop="wordCount" content="463">



<meta itemprop="keywords" content="python,MuPiBox,mp3,media," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Enhancing My Daughter&#39;s Mupibox Media Server with Cover Art"/>
<meta name="twitter:description" content="Discover how I enhanced my daughter&#39;s Mupibox media server experience by adding cover art to her favorite audiobooks and music."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SlashGordon</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/about">
        <li class="mobile-menu-item">About me</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/projects">
        <li class="mobile-menu-item">Projects</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SlashGordon</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/about">About me</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/projects">Projects</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Enhancing My Daughter&#39;s Mupibox Media Server with Cover Art</h1>

      <div class="post-meta">
        <span class="post-time"> 2024-09-24 </span>
        <div class="post-category">
            <a href="/categories/code/"> code </a>
            <a href="/categories/mp3/"> mp3 </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#tools-and-libraries-used">Tools and Libraries Used</a></li>
    <li><a href="#step-by-step-process">Step-by-Step Process</a>
      <ul>
        <li><a href="#step-1-setting-up-the-script">Step 1: Setting Up the Script</a></li>
        <li><a href="#step-2-running-the-script">Step 2: Running the Script</a></li>
        <li><a href="#step-3-verifying-the-results">Step 3: Verifying the Results</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h1 id="enhancing-my-daughters-mupibox-media-server-with-cover-art">Enhancing My Daughter&rsquo;s MuPiBox Media Server with Cover Art</h1>
<p>My daughter loves her MuPiBox media server, which is packed with her favorite audiobooks and music. Recently, I decided to enhance her experience by adding cover art to each album. It’s a small touch, but seeing the album covers makes her browsing more enjoyable and visually appealing. Here’s how I added cover.jpg files to her MuPiBox media server.</p>
<h2 id="tools-and-libraries-used">Tools and Libraries Used</h2>
<p>To achieve this, I used Python along with some handy libraries:</p>
<ul>
<li><strong>os</strong> for interacting with the operating system.</li>
<li><strong>glob</strong> for pattern matching of file names.</li>
<li><strong>mutagen</strong> for handling audio metadata, including cover art extraction.</li>
</ul>
<p>I wrote a Python script to automate the extraction and saving of cover art from the MP3 files present in the Mupibox library.</p>
<h2 id="step-by-step-process">Step-by-Step Process</h2>
<h3 id="step-1-setting-up-the-script">Step 1: Setting Up the Script</h3>
<p>Firstly, I installed the necessary libraries using pip:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">pip install mutagen
</code></pre></div><p>Then, I created a Python script named <code>add_cover_art.py</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> os
<span style="color:#f92672">import</span> glob
<span style="color:#f92672">from</span> mutagen.mp3 <span style="color:#f92672">import</span> MP3
<span style="color:#f92672">from</span> mutagen.id3 <span style="color:#f92672">import</span> ID3, APIC

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">extract_and_save_cover_art</span>(mp3_file, output_file):
    audio <span style="color:#f92672">=</span> MP3(mp3_file, ID3<span style="color:#f92672">=</span>ID3)
    
    <span style="color:#75715e"># Check if the MP3 file contains an image</span>
    <span style="color:#66d9ef">for</span> tag <span style="color:#f92672">in</span> audio<span style="color:#f92672">.</span>tags<span style="color:#f92672">.</span>values():
        <span style="color:#66d9ef">if</span> isinstance(tag, APIC):
            <span style="color:#66d9ef">with</span> open(output_file, <span style="color:#e6db74">&#39;wb&#39;</span>) <span style="color:#66d9ef">as</span> img:
                img<span style="color:#f92672">.</span>write(tag<span style="color:#f92672">.</span>data)
            <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;Cover artwork successfully saved to {output_file}.&#39;</span>)
            <span style="color:#66d9ef">return</span>
    
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;No cover artwork found in the MP3 file.&#39;</span>)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">delete_existing_images</span>(album_dir):
    image_files <span style="color:#f92672">=</span> glob<span style="color:#f92672">.</span>glob(os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(album_dir, <span style="color:#e6db74">&#34;*.[jJpP][pPnNgG]*&#34;</span>))  <span style="color:#75715e"># Common image file extensions (jpg, png, etc.)</span>
    <span style="color:#66d9ef">for</span> image_file <span style="color:#f92672">in</span> image_files:
        os<span style="color:#f92672">.</span>remove(image_file)
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;{image_file} has been deleted.&#39;</span>)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">process_artist_directory</span>(artist_dir):
    <span style="color:#66d9ef">for</span> album_dir <span style="color:#f92672">in</span> os<span style="color:#f92672">.</span>listdir(artist_dir):
        full_album_path <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(artist_dir, album_dir)
        
        <span style="color:#66d9ef">if</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>isdir(full_album_path):
            cover_file <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(full_album_path, <span style="color:#e6db74">&#34;cover.jpg&#34;</span>)
            
            <span style="color:#75715e"># Skip if cover.jpg already exists</span>
            <span style="color:#66d9ef">if</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>exists(cover_file):
                <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;Skipping {full_album_path}, cover.jpg already exists.&#39;</span>)
                <span style="color:#66d9ef">continue</span>
            
            mp3_files <span style="color:#f92672">=</span> sorted(glob<span style="color:#f92672">.</span>glob(os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(full_album_path, <span style="color:#e6db74">&#34;*.mp3&#34;</span>)))
            
            <span style="color:#66d9ef">if</span> mp3_files:
                first_mp3_file <span style="color:#f92672">=</span> mp3_files[<span style="color:#ae81ff">0</span>]
                
                <span style="color:#75715e"># Delete other existing images</span>
                delete_existing_images(full_album_path)
                
                <span style="color:#75715e"># Extract and save cover art</span>
                extract_and_save_cover_art(first_mp3_file, cover_file)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">process_music_library</span>(base_dir):
    <span style="color:#66d9ef">for</span> artist_dir <span style="color:#f92672">in</span> os<span style="color:#f92672">.</span>listdir(base_dir):
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> <span style="color:#e6db74">&#34;Pippi&#34;</span> <span style="color:#f92672">in</span> artist_dir:
            <span style="color:#66d9ef">continue</span>
        full_artist_path <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(base_dir, artist_dir)
        
        <span style="color:#66d9ef">if</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>isdir(full_artist_path):
            process_artist_directory(full_artist_path)

<span style="color:#75715e"># Example call</span>
music_library_path <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;/Volumes/media/music/Hörbücher&#39;</span>  <span style="color:#75715e"># Base directory</span>
process_music_library(music_library_path)
</code></pre></div><h3 id="step-2-running-the-script">Step 2: Running the Script</h3>
<p>Once the script was ready, I ran it, pointing it to the base directory of the MuPiBox media library. The script searched through the directories, identified MP3 files, and extracted their cover art to save as cover.jpg in their respective folders.</p>
<h3 id="step-3-verifying-the-results">Step 3: Verifying the Results</h3>
<p>After the script completed, I browsed through the MuPiBox media server. It was gratifying to see the new cover.jpg files next to each album, providing a more immersive and visually appealing browsing experience for my daughter.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Adding cover art to the MuPiBox media server was a straightforward yet impactful enhancement. The Python script made the process efficient and automated, saving me a significant amount of time. If you manage a media server and want to add a bit of polish to the user experience, I highly recommend giving this method a try.</p>
<p>Happy listening!</p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">SlashGordon</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2024-09-24
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/python/">python</a>
          <a href="/tags/mupibox/">MuPiBox</a>
          <a href="/tags/mp3/">mp3</a>
          <a href="/tags/media/">media</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/eurojackpot/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">How I Demonstrated the Real Cost of Playing Eurojackpot to My Father (Using Python)</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/rns510_code_finder/">
            <span class="next-text nav-default">How I Resurrected My RNS 510 to Seal the Deal (Code Finder RNS510)</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:slash.gordon.dev@gmail.com%20" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/SlashGordon" class="iconfont icon-github" title="github"></a>
      <a href="https://www.instagram.com/mr.carlo.labrador/" class="iconfont icon-instagram" title="instagram"></a>
  <a href="/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  

  <span class="copyright-year">
    &copy; 
    2019 - 
    2025
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">2019</span>
  </span>
  <div class="legal-links">
    <a href="/impressum">Impressum</a> | <a href="/privacy">Privacy Policy</a>
  </div>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
  <script src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script><script></script><script src="/lib/flowchart/raphael-2.2.7.min.js"></script> <script src="/lib/flowchart/flowchart-1.8.0.min.js"></script><script></script><script src="/lib/sequence/webfontloader-1.6.28.js"></script> <script src="/lib/sequence/snap.svg-0.5.1.min.js"></script> <script src="/lib/sequence/underscore-1.8.3.min.js"></script> <script src="/lib/sequence/sequence-diagram-2.0.1.min.js"></script>
    <link rel="stylesheet" href="/lib/sequence/sequence-diagram-2.0.1.min.css">



<script type="text/javascript" src="/js/main.min.c12618f9a600c40bd024996677e951e64d3487006775aeb22e200c990006c5c7.js"></script>
<script src="https://tarptaeya.github.io/repo-card/repo-card.js"></script>





<script src="/js/contact-obfuscation.js"></script>
<script src="/js/cookie-consent.js"></script>


</body>
</html>
